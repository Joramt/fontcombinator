$(document).ready(function(){function a(){targets="#h1_select, #h2_select, #p_select";defaultVarients="#h1_variant, #h2_variant, #p_variant";defaultFonts=new Array(h1="Ultra",h2="Trebuchet MS",p="Trebuchet MS");delay=2e3}function b(a){$(defaultVarients).remove();var b="http://fonts.googleapis.com/css?family=",c=$("#h1_select").children();$(targets).empty();for(var e=0,f=a.length;e<f;e+=1)if(a[e].subsets.indexOf("latin")!==-1){var g=a[e].family,h=a[e].family.replace(/\s+/g,"+"),i=a[e].family.replace(/\s+/g,"");$(targets).append('<option value="'+g+'">'+g+"</option>");$('<link rel="stylesheet" href="'+b+h+"&subset=latin&text="+i+'"  type="text/css" />').prependTo("head")}$(targets).append("<option>* System Fonts *</option>");$(targets).append(c);$("#h1_select option[selected], #h2_select option[selected], #p_select option[selected]").removeAttr("selected");$('#h1_select option[value="'+defaultFonts[0]+'"]').attr("selected","selected");$('#h2_select option[value="'+defaultFonts[1]+'"]').attr("selected","selected");$('#p_select option[value="'+defaultFonts[1]+'"]').attr("selected","selected");d();$("#h1_select_chzn .chzn-single").css("font-family",defaultFonts[0]);$("#h2_select_chzn .chzn-single").css("font-family",defaultFonts[1]);$("#p_select_chzn .chzn-single").css("font-family",defaultFonts[2])}function c(a){$(targets).change(function(){var b="http://fonts.googleapis.com/css?family=",c=$(this).val(),d=$(this).attr("id").split("_select")[0];$(d).css({"font-style":"normal","font-weight":"400"});$(this).siblings(".variant_select").remove();$("#"+d+"_variant_chzn").remove();_gaq.push(["_trackEvent","Font Choice",d,c]);for(var e=0;e<a.length;e++){var f=a[e].variants;if(a[e].family===c&&f.length>1){var g=f.toString();$('<link rel="stylesheet" href="'+b+c.replace(/\s+/g,"+")+":"+g+'&subset=latin" type="text/css" />').prependTo("head");$('<select class="variant_select" id="'+d+'_variant" name="'+d+'v"><select>').insertAfter("#"+d+"_select_chzn");for(var h=0;h<f.length;h++){var i=f[h].replace("italic"," italic");i==="regular"?$('<option value="400" selected>400</option>').appendTo("#"+d+"_variant"):i==="400"?$('<option value="'+i+'" selected>'+i+"</option>").appendTo("#"+d+"_variant"):i===" italic"?$('<option value="400 italic">400 italic</option>').appendTo("#"+d+"_variant"):$('<option value="'+i+'">'+i+"</option>").appendTo("#"+d+"_variant")}$(d).css("font-family",c).css("font-weight","400");$("#"+d+"_select_chzn .chzn-single").css("font-family",c);$(".variant_select").chosen();$("#"+d+"_variant_chzn li").each(function(){$(this).css("font-family",c);$(this).html().indexOf("italic")===-1?$(this).css("font-weight",$(this).html()):$(this).css("font-weight",$(this).html().split(" italic")[0]).css("font-style","italic")});$("#"+d+"_variant_chzn").css({"font-family":c,"min-width":"90px"});$("#"+d+"_variant_chzn div.chzn-drop").css("width","88px");$("#"+d+"_variant_chzn").find("input").css("width","53px");return!1}if(a[e].family===c){$("head style").after("<link rel='stylesheet' href='"+b+c.replace(/\s+/g,"+")+"&subset=latin' type='text/css'/>");$("#"+d+"_select_chzn .chzn-single").css("font-family",c)}}if(c==="Arial"||c==="Garamond"||c==="Georgia"||c==="Helvetica"||c==="Lucida Grande"||c==="Palatino"||c==="Tahoma"||c==="Times New Roman"||c==="Trebuchet MS"||c==="Verdana"){$("#"+d+"_select_chzn .chzn-single").css("font-family",c);$('<select class="variant_select" id="'+d+'_variant" name="'+d+'v"><option value="400" selected>400</option><option value="400 italic">400 italic</option><option value="bold">Bold</option><option value="bold italic">Bold italic</option><select>').insertAfter("#"+d+"_select_chzn");$("#"+d+"_variant").chosen();$("#"+d+"_variant_chzn").css({"font-family":c,"min-width":"90px"});$("#"+d+"_variant_chzn div.chzn-drop").css("width","88px");$("#"+d+"_variant_chzn").find("input").css("width","53px");$("#"+d+"_variant_chzn li").each(function(){$(this).css("font-family",c);$(this).html().indexOf("italic")===-1?$(this).css("font-weight",$(this).html()):$(this).css("font-weight",$(this).html().split(" italic")[0]).css("font-style","italic")})}$(d).css("font-family",c)});d()}function d(){$(targets).chosen();$(defaultVarients).chosen();$(".chzn-container").css("width","180px");$("#h1_select_chzn .active-result, #h2_select_chzn .active-result, #p_select_chzn .active-result").each(function(){$(this).css("font-family",$(this).html())});$(".chzn-search input").css("width","72%");$("#control_option").chosen();$("#control_option_chzn").css("width","90%");$("#control_option_chzn .chzn-drop").css("width","100%");$("#control_option_chzn .chzn-search").remove()}function e(){$(targets).change(function(){var a=$(this).val(),b=$(this).attr("id").split("_select")[0];$(b).css("font-family",a)});d()}function f(){$("body").on("change",".variant_select",function(){var a=$(this).attr("id").split("_variant")[0],b=$(this).val();if(b.indexOf(" italic")===-1){$(a).css("font-weight",b).css("font-style","normal");$("#"+a+"_variant_chzn .chzn-single").css("font-weight",b).css("font-style","normal")}else{$(a).css("font-weight",b.replace(" italic",""));$(a).css("font-style","italic");$("#"+a+"_variant_chzn .chzn-single").css({"font-weight":b.replace(" italic",""),"font-style":"italic"})}})}function g(){if($("body").width()>768){$("#h1color, #h2color, #pcolor").ColorPicker({onShow:function(){thisEl=$(this).attr("id");thisElem=thisEl.split("color")[0]},onChange:function(a,b,c,d){$("#"+thisEl).val(b);$(d).ColorPickerHide();$(".panel "+thisElem).css("color","#"+b)},onBeforeShow:function(){$(this).ColorPickerSetColor(this.value)}}).bind("keyup",function(){$(this).ColorPickerSetColor(this.value)});$("#bgcolor").ColorPicker({onShow:function(){thisEl=$(this).attr("id")},onChange:function(a,b,c,d){$("#"+thisEl).val(b);$(d).ColorPickerHide();$("#wrapper").css("background-color","#"+b)},onBeforeShow:function(){$(this).ColorPickerSetColor(this.value)}}).bind("keyup",function(){$(this).ColorPickerSetColor(this.value)})}else $("body").width()<=768&&$("#h1color, #h2color, #pcolor").on("change",function(){thisVal=$(this).val();thisEl=$(this).attr("id");thisElem=thisEl.split("color")[0];$(thisElem).css("color","#"+$(this).val())})}function h(a,b,c,d){$(a+" a").click(function(){var a=$(this).attr("href"),e=$(this);$(this).hasClass(b)||$("."+c+"."+b).fadeOut(d,function(){var c=$(".here").css("backgroundColor");$("."+b).removeClass(b);$(e).addClass(b);$(a).fadeIn(d,function(){$(this).addClass(b)})});return!1})}function i(){if(!document.getElementsByTagName)return;var a=document.getElementsByTagName("a");for(var b=0;b<a.length;b++){var c=a[b];c.getAttribute("href")&&c.getAttribute("rel")==="external"&&(c.target="_blank")}}function k(a){if(a.kind==="webfonts#webfontList"){b(a.items);c(a.items)}else noLove()}$("html").removeClass("no-js");a();$("#submit").hide();$('<div class="element"> <label for="control_option">Element:</label> <select name="control_option" id="control_option"> <option value="h1">Headline (H1)</option> <option value="h2">Subhead (H2)</option> <option value="p">Body text (p)</option> <option value="bg">Background</option> </select> </div>').prependTo("#controls");f();$("#h1size, #h2size, #psize").on("change",function(){var a=$(this).attr("id").split("size")[0],b=$(this).val();$(a).css("font-size",b+"px");$(this).next("span.value").text(b)});$("#h1lh, #h2lh, #plh").on("change",function(){var a=$(this).attr("id").split("lh")[0],b=parseFloat($(this).val()).toFixed(2);$(a).css("line-height",$(this).val());$(this).next("span.value").text(b)});g();$("#h1_hide, #h2_hide, #p_hide").on("click",function(){var a=$(this).attr("id").split("_hide")[0];if($(this).val()==="Hide"){$(a).fadeOut("slow");$(this).val("Show")}else{$(a).fadeIn("slow");$(this).val("Hide")}});$("body").attr("spellcheck",!1);$("#control_option").on("change",function(){var a=$(this).val(),b="#"+a+"_sec";a==="all"?$(".control").each(function(){$(this).fadeIn()}):$(b).hasClass("active")||$(".control.active").fadeOut("fast",function(){$(".control.active").removeClass("active");$(b).fadeIn("fast",function(){$(this).addClass("active");$("#h1_select_chzn, #h2_select_chzn, #p_select_chzn, .chzn-drop").css("width","180px")})})});h("#panel_nav","here","panel","normal");i();var j=$.ajax({url:"https://www.googleapis.com/webfonts/v1/webfonts?key=AIzaSyAc3a2WfPaSbA1B25u78zFQRfAide8T34c&sort=alpha&sort=desc",dataType:"jsonp",timeout:4e3,success:k});j.error(function(){$('<h2 class="warning">I&rsquo;m sorry, but we can&rsquo;t seem to reach Google Fonts.</h2>').prependTo("#font-combinator").delay(delay).fadeOut("slow");e()})});